# 01-02 逻辑学基础

## 概述

逻辑学是研究推理形式和规律的科学，为计算机科学和人工智能提供了重要的理论基础。

## 1. 命题逻辑

### 1.1 命题的定义

**命题**（Proposition）是具有真假值的陈述句。

**形式化定义**：
设 $P$ 为命题，则 $P \in \{T, F\}$，其中 $T$ 表示真，$F$ 表示假。

### 1.2 逻辑运算符

#### 1.2.1 基本运算符

1. **否定**（NOT）：$\neg P$
2. **合取**（AND）：$P \land Q$
3. **析取**（OR）：$P \lor Q$
4. **蕴含**（IMPLIES）：$P \rightarrow Q$
5. **等价**（IFF）：$P \leftrightarrow Q$

#### 1.2.2 真值表

| P | Q | ¬P | P∧Q | P∨Q | P→Q | P↔Q |
|---|---|----|----|----|----|----|
| T | T | F  | T  | T  | T  | T  |
| T | F | F  | F  | T  | F  | F  |
| F | T | T  | F  | T  | T  | F  |
| F | F | T  | F  | F  | T  | T  |

## 2. Python实现

```python
from typing import Dict, List, Any, Callable
from enum import Enum
from dataclasses import dataclass

class TruthValue(Enum):
    """真值枚举"""
    TRUE = True
    FALSE = False

@dataclass
class Proposition:
    """命题类"""
    name: str
    value: TruthValue
    
    def __str__(self) -> str:
        return f"{self.name} = {self.value.value}"

class LogicOperators:
    """逻辑运算符"""
    
    @staticmethod
    def NOT(p: TruthValue) -> TruthValue:
        """否定：¬P"""
        return TruthValue(not p.value)
    
    @staticmethod
    def AND(p: TruthValue, q: TruthValue) -> TruthValue:
        """合取：P ∧ Q"""
        return TruthValue(p.value and q.value)
    
    @staticmethod
    def OR(p: TruthValue, q: TruthValue) -> TruthValue:
        """析取：P ∨ Q"""
        return TruthValue(p.value or q.value)
    
    @staticmethod
    def IMPLIES(p: TruthValue, q: TruthValue) -> TruthValue:
        """蕴含：P → Q"""
        return TruthValue(not p.value or q.value)
    
    @staticmethod
    def IFF(p: TruthValue, q: TruthValue) -> TruthValue:
        """等价：P ↔ Q"""
        return TruthValue(p.value == q.value)

class TruthTable:
    """真值表"""
    
    def __init__(self):
        self.operators = LogicOperators()
    
    def generate_truth_table(self, expression: Callable) -> List[Dict[str, Any]]:
        """生成真值表"""
        table = []
        
        for p_val in [TruthValue.TRUE, TruthValue.FALSE]:
            for q_val in [TruthValue.TRUE, TruthValue.FALSE]:
                result = expression(p_val, q_val)
                table.append({
                    'P': p_val.value,
                    'Q': q_val.value,
                    'Result': result.value
                })
        
        return table
    
    def print_truth_table(self, expression: Callable, expression_name: str):
        """打印真值表"""
        table = self.generate_truth_table(expression)
        
        print(f"Truth Table for {expression_name}:")
        print("P     Q     Result")
        print("-" * 20)
        
        for row in table:
            print(f"{row['P']:<5} {row['Q']:<5} {row['Result']}")

def demonstrate_logic():
    """演示逻辑运算"""
    operators = LogicOperators()
    truth_table = TruthTable()
    
    # 演示各种逻辑运算
    print("Logic Operations Demonstration:")
    
    # AND运算
    truth_table.print_truth_table(operators.AND, "P ∧ Q")
    print()
    
    # OR运算
    truth_table.print_truth_table(operators.OR, "P ∨ Q")
    print()
    
    # IMPLIES运算
    truth_table.print_truth_table(operators.IMPLIES, "P → Q")
    print()
    
    # 德摩根律验证
    print("De Morgan's Laws Verification:")
    p = TruthValue.TRUE
    q = TruthValue.FALSE
    
    # ¬(P ∧ Q) = ¬P ∨ ¬Q
    left_side = operators.NOT(operators.AND(p, q))
    right_side = operators.OR(operators.NOT(p), operators.NOT(q))
    
    print(f"¬(P ∧ Q) = {left_side.value}")
    print(f"¬P ∨ ¬Q = {right_side.value}")
    print(f"De Morgan's Law holds: {left_side == right_side}")

if __name__ == "__main__":
    demonstrate_logic()
```

## 3. 谓词逻辑

### 3.1 谓词的定义

**谓词**（Predicate）是包含变量的命题函数。

**形式化定义**：
$$P(x_1, x_2, ..., x_n)$$

其中 $x_i$ 为变量。

### 3.2 量词

#### 3.2.1 全称量词
$$\forall x P(x)$$

#### 3.2.2 存在量词
$$\exists x P(x)$$

## 4. 推理规则

### 4.1 基本推理规则

1. **假言推理**：$P \rightarrow Q, P \vdash Q$
2. **拒取式**：$P \rightarrow Q, \neg Q \vdash \neg P$
3. **三段论**：$P \rightarrow Q, Q \rightarrow R \vdash P \rightarrow R$

### 4.2 证明方法

#### 4.2.1 直接证明
假设 $P$ 为真，通过逻辑推理证明 $Q$ 为真。

#### 4.2.2 反证法
假设 $\neg Q$ 为真，推导出矛盾，从而证明 $Q$ 为真。

## 5. 逻辑在计算机科学中的应用

### 5.1 布尔代数

布尔代数是逻辑学在计算机科学中的重要应用。

```python
class BooleanAlgebra:
    """布尔代数"""
    
    @staticmethod
    def simplify_expression(expression: str) -> str:
        """简化布尔表达式"""
        # 简化的布尔表达式简化器
        rules = {
            'A + 0': 'A',
            'A + 1': '1',
            'A * 0': '0',
            'A * 1': 'A',
            'A + A': 'A',
            'A * A': 'A',
            'A + A\'': '1',
            'A * A\'': '0'
        }
        
        # 这里应该实现完整的布尔表达式简化算法
        return expression
    
    @staticmethod
    def canonical_form(expression: str) -> str:
        """转换为标准形式"""
        # 转换为析取范式（DNF）或合取范式（CNF）
        return expression

def demonstrate_boolean_algebra():
    """演示布尔代数"""
    algebra = BooleanAlgebra()
    
    # 示例表达式
    expression = "A + A'"
    simplified = algebra.simplify_expression(expression)
    
    print(f"Original expression: {expression}")
    print(f"Simplified expression: {simplified}")

if __name__ == "__main__":
    demonstrate_boolean_algebra()
```

### 5.2 逻辑编程

逻辑编程是基于逻辑推理的编程范式。

```python
from typing import List, Dict, Any

class LogicProgram:
    """逻辑程序"""
    
    def __init__(self):
        self.facts: List[str] = []
        self.rules: List[tuple] = []
    
    def add_fact(self, fact: str):
        """添加事实"""
        self.facts.append(fact)
    
    def add_rule(self, head: str, body: List[str]):
        """添加规则"""
        self.rules.append((head, body))
    
    def query(self, query: str) -> bool:
        """查询"""
        # 简化的逻辑推理实现
        if query in self.facts:
            return True
        
        for head, body in self.rules:
            if head == query:
                return all(self.query(condition) for condition in body)
        
        return False

def demonstrate_logic_programming():
    """演示逻辑编程"""
    program = LogicProgram()
    
    # 添加事实
    program.add_fact("parent(john, mary)")
    program.add_fact("parent(mary, bob)")
    
    # 添加规则
    program.add_rule("grandparent(X, Z)", ["parent(X, Y)", "parent(Y, Z)"])
    
    # 查询
    result = program.query("grandparent(john, bob)")
    print(f"Is John a grandparent of Bob? {result}")

if __name__ == "__main__":
    demonstrate_logic_programming()
```

## 6. 总结

逻辑学为计算机科学提供了重要的理论基础，特别是在人工智能、形式化方法和软件验证中发挥着重要作用。

## 7. 相关链接

- [01-01-集合论基础](./01-01-集合论基础.md)
- [01-03-图论基础](./01-03-图论基础.md)
- [02-01-算法理论](../02-理论基础/02-01-算法理论.md)

---

**文档版本**: 1.0  
**最后更新**: 2024年12月19日  
**维护者**: AI Assistant
