# 03.01.02 ÁªìÊûÑÂûãÊ®°Âºè

## üìã Ê¶ÇËø∞

ÁªìÊûÑÂûãÊ®°ÂºèÂÖ≥Ê≥®Á±ªÂíåÂØπË±°ÁöÑÁªÑÂêàÔºåÈÄöËøáÁªÑÂêàÂíåÁªßÊâøÊù•ÊûÑÂª∫Êõ¥Â§ßÁöÑÁªìÊûÑ„ÄÇÊú¨ÊñáÊ°£Â∞ÜÁªìÊûÑÂûãÊ®°ÂºèËøõË°åÂΩ¢ÂºèÂåñÂÆö‰πâÔºåÂπ∂Êèê‰æõÂÆåÊï¥ÁöÑPythonÂÆûÁé∞„ÄÇ

## üéØ Ê†∏ÂøÉÊ¶ÇÂøµ

### 1. ÁªìÊûÑÂûãÊ®°ÂºèÁöÑÂΩ¢ÂºèÂåñÂÆö‰πâ

**Êï∞Â≠¶ÂÆö‰πâ**Ôºö
ÁªìÊûÑÂûãÊ®°ÂºèÊòØ‰∏Ä‰∏™ÂáΩÊï∞ $S: C \times R \rightarrow O$ÔºåÂÖ∂‰∏≠Ôºö

- $C$ ÊòØÁªÑ‰ª∂ÈõÜÂêà
- $R$ ÊòØÂÖ≥Á≥ªÈõÜÂêà
- $O$ ÊòØÁªìÊûÑÂØπË±°ÈõÜÂêà
- $S$ ÊòØÁªìÊûÑÂáΩÊï∞ÔºåÂ∞ÜÁªÑ‰ª∂ÂíåÂÖ≥Á≥ªÊò†Â∞ÑÂà∞ÁªìÊûÑÂØπË±°

ÂØπ‰∫éÊ®°Âºè $M$ÔºåÂÖ∂ÁªìÊûÑÂáΩÊï∞‰∏∫Ôºö
$$S_M: C_M \times R_M \rightarrow O_M$$

ÂÖ∂‰∏≠ $C_M$ ÊòØÊ®°ÂºèÁªÑ‰ª∂Ôºå$R_M$ ÊòØÊ®°ÂºèÂÖ≥Á≥ª„ÄÇ

**PythonÂÆûÁé∞**Ôºö

```python
from typing import TypeVar, Generic, Dict, Any, Callable, Optional, List
from abc import ABC, abstractmethod
from dataclasses import dataclass
from enum import Enum

T = TypeVar('T')
U = TypeVar('U')

class StructuralPattern(Enum):
    """ÁªìÊûÑÂûãÊ®°ÂºèÊûö‰∏æ"""
    ADAPTER = "adapter"
    BRIDGE = "bridge"
    COMPOSITE = "composite"
    DECORATOR = "decorator"
    FACADE = "facade"
    FLYWEIGHT = "flyweight"
    PROXY = "proxy"

@dataclass
class StructuralContext:
    """ÁªìÊûÑ‰∏ä‰∏ãÊñá"""
    pattern_type: StructuralPattern
    components: Dict[str, Any]
    relationships: List[Dict[str, Any]]
    constraints: List[str]
    state: Dict[str, Any]

class StructuralComponent(ABC):
    """ÁªìÊûÑÁªÑ‰ª∂ÊäΩË±°Âü∫Á±ª"""
    
    @abstractmethod
    def operation(self) -> str:
        """ÁªÑ‰ª∂Êìç‰Ωú"""
        pass
    
    @abstractmethod
    def get_structure(self) -> Dict[str, Any]:
        """Ëé∑ÂèñÁªìÊûÑ‰ø°ÊÅØ"""
        pass

class StructuralPatternFramework:
    """ÁªìÊûÑÂûãÊ®°ÂºèÊ°ÜÊû∂"""
    
    def __init__(self):
        self.patterns: Dict[StructuralPattern, Callable] = {}
        self._initialize_patterns()
    
    def _initialize_patterns(self):
        """ÂàùÂßãÂåñÊ®°Âºè"""
        self.patterns[StructuralPattern.ADAPTER] = self._create_adapter
        self.patterns[StructuralPattern.BRIDGE] = self._create_bridge
        self.patterns[StructuralPattern.COMPOSITE] = self._create_composite
        self.patterns[StructuralPattern.DECORATOR] = self._create_decorator
        self.patterns[StructuralPattern.FACADE] = self._create_facade
        self.patterns[StructuralPattern.FLYWEIGHT] = self._create_flyweight
        self.patterns[StructuralPattern.PROXY] = self._create_proxy
    
    def create_structure(self, pattern: StructuralPattern, context: StructuralContext) -> Any:
        """ÂàõÂª∫ÁªìÊûÑ"""
        if pattern not in self.patterns:
            raise ValueError(f"Unsupported pattern: {pattern}")
        
        return self.patterns[pattern](context)
    
    def analyze_pattern(self, pattern: StructuralPattern) -> Dict[str, Any]:
        """ÂàÜÊûêÊ®°ÂºèÁâπÊÄß"""
        return {
            "pattern": pattern.value,
            "complexity": self._assess_complexity(pattern),
            "flexibility": self._assess_flexibility(pattern),
            "performance": self._assess_performance(pattern),
            "use_cases": self._get_use_cases(pattern)
        }
    
    def _assess_complexity(self, pattern: StructuralPattern) -> str:
        """ËØÑ‰º∞Â§çÊùÇÂ∫¶"""
        complexity_map = {
            StructuralPattern.ADAPTER: "Low",
            StructuralPattern.BRIDGE: "Medium",
            StructuralPattern.COMPOSITE: "Medium",
            StructuralPattern.DECORATOR: "Medium",
            StructuralPattern.FACADE: "Low",
            StructuralPattern.FLYWEIGHT: "High",
            StructuralPattern.PROXY: "Low"
        }
        return complexity_map.get(pattern, "Unknown")
    
    def _assess_flexibility(self, pattern: StructuralPattern) -> str:
        """ËØÑ‰º∞ÁÅµÊ¥ªÊÄß"""
        flexibility_map = {
            StructuralPattern.ADAPTER: "Medium",
            StructuralPattern.BRIDGE: "High",
            StructuralPattern.COMPOSITE: "High",
            StructuralPattern.DECORATOR: "High",
            StructuralPattern.FACADE: "Low",
            StructuralPattern.FLYWEIGHT: "Medium",
            StructuralPattern.PROXY: "Medium"
        }
        return flexibility_map.get(pattern, "Unknown")
    
    def _assess_performance(self, pattern: StructuralPattern) -> str:
        """ËØÑ‰º∞ÊÄßËÉΩ"""
        performance_map = {
            StructuralPattern.ADAPTER: "High",
            StructuralPattern.BRIDGE: "Medium",
            StructuralPattern.COMPOSITE: "Medium",
            StructuralPattern.DECORATOR: "Medium",
            StructuralPattern.FACADE: "High",
            StructuralPattern.FLYWEIGHT: "High",
            StructuralPattern.PROXY: "Medium"
        }
        return performance_map.get(pattern, "Unknown")
    
    def _get_use_cases(self, pattern: StructuralPattern) -> List[str]:
        """Ëé∑Âèñ‰ΩøÁî®Âú∫ÊôØ"""
        use_cases_map = {
            StructuralPattern.ADAPTER: ["Êé•Âè£ÈÄÇÈÖç", "Á¨¨‰∏âÊñπÂ∫ìÈõÜÊàê", "ÈÅóÁïôÁ≥ªÁªüÈõÜÊàê"],
            StructuralPattern.BRIDGE: ["ÊäΩË±°‰∏éÂÆûÁé∞ÂàÜÁ¶ª", "Â§öÁª¥Â∫¶ÂèòÂåñ", "Âπ≥Âè∞ÊäΩË±°"],
            StructuralPattern.COMPOSITE: ["Ê†ëÂΩ¢ÁªìÊûÑ", "Êñá‰ª∂Á≥ªÁªü", "GUIÁªÑ‰ª∂"],
            StructuralPattern.DECORATOR: ["ÂäüËÉΩÊâ©Â±ï", "Ê®™ÂàáÂÖ≥Ê≥®ÁÇπ", "Âä®ÊÄÅË°å‰∏∫"],
            StructuralPattern.FACADE: ["Â≠êÁ≥ªÁªüÁÆÄÂåñ", "APIÂ∞ÅË£Ö", "Â§çÊùÇÊìç‰ΩúÁÆÄÂåñ"],
            StructuralPattern.FLYWEIGHT: ["ÂÜÖÂ≠ò‰ºòÂåñ", "ÂØπË±°ÂÖ±‰∫´", "Â§ßÈáèÁõ∏‰ººÂØπË±°"],
            StructuralPattern.PROXY: ["ËÆøÈóÆÊéßÂà∂", "Âª∂ËøüÂä†ËΩΩ", "ËøúÁ®ã‰ª£ÁêÜ"]
        }
        return use_cases_map.get(pattern, [])
    
    # Ê®°ÂºèÂàõÂª∫ÊñπÊ≥ï
    def _create_adapter(self, context: StructuralContext) -> Any:
        """ÂàõÂª∫ÈÄÇÈÖçÂô®Ê®°Âºè"""
        target_interface = context.components.get("target_interface")
        adaptee = context.components.get("adaptee")
        return Adapter(target_interface, adaptee)
    
    def _create_bridge(self, context: StructuralContext) -> Any:
        """ÂàõÂª∫Ê°•Êé•Ê®°Âºè"""
        abstraction = context.components.get("abstraction")
        implementation = context.components.get("implementation")
        return Bridge(abstraction, implementation)
    
    def _create_composite(self, context: StructuralContext) -> Any:
        """ÂàõÂª∫ÁªÑÂêàÊ®°Âºè"""
        return Composite()
    
    def _create_decorator(self, context: StructuralContext) -> Any:
        """ÂàõÂª∫Ë£ÖÈ•∞Âô®Ê®°Âºè"""
        component = context.components.get("component")
        return Decorator(component)
    
    def _create_facade(self, context: StructuralContext) -> Any:
        """ÂàõÂª∫Â§ñËßÇÊ®°Âºè"""
        subsystems = context.components.get("subsystems", [])
        return Facade(subsystems)
    
    def _create_flyweight(self, context: StructuralContext) -> Any:
        """ÂàõÂª∫‰∫´ÂÖÉÊ®°Âºè"""
        return FlyweightFactory()
    
    def _create_proxy(self, context: StructuralContext) -> Any:
        """ÂàõÂª∫‰ª£ÁêÜÊ®°Âºè"""
        real_subject = context.components.get("real_subject")
        return Proxy(real_subject)

# ‰ΩøÁî®Á§∫‰æã
framework = StructuralPatternFramework()
```

### 2. ÈÄÇÈÖçÂô®Ê®°Âºè (Adapter)

#### 2.1 ÂΩ¢ÂºèÂåñÂÆö‰πâ

**Êï∞Â≠¶ÂÆö‰πâ**Ôºö
ÈÄÇÈÖçÂô®Ê®°ÂºèÂ∞Ü‰∏Ä‰∏™Êé•Âè£ËΩ¨Êç¢‰∏∫Âè¶‰∏Ä‰∏™Êé•Âè£Ôºö
$$\text{Adapter}: I_1 \rightarrow I_2$$

ÂÖ∂‰∏≠ $I_1$ ÊòØÊ∫êÊé•Âè£Ôºå$I_2$ ÊòØÁõÆÊ†áÊé•Âè£„ÄÇ

**PythonÂÆûÁé∞**Ôºö

```python
from abc import ABC, abstractmethod
from typing import Any

class Target(ABC):
    """ÁõÆÊ†áÊé•Âè£"""
    
    @abstractmethod
    def request(self) -> str:
        """ËØ∑Ê±ÇÊñπÊ≥ï"""
        pass

class Adaptee:
    """ÈúÄË¶ÅÈÄÇÈÖçÁöÑÁ±ª"""
    
    def specific_request(self) -> str:
        """ÁâπÂÆöËØ∑Ê±ÇÊñπÊ≥ï"""
        return "Adaptee specific request"

class Adapter(Target):
    """ÈÄÇÈÖçÂô® - Á±ªÈÄÇÈÖçÂô®"""
    
    def __init__(self, adaptee: Adaptee):
        self.adaptee = adaptee
    
    def request(self) -> str:
        """ÈÄÇÈÖçËØ∑Ê±Ç"""
        return f"Adapter: {self.adaptee.specific_request()}"

class ObjectAdapter:
    """ÂØπË±°ÈÄÇÈÖçÂô®"""
    
    def __init__(self, adaptee: Adaptee):
        self.adaptee = adaptee
    
    def request(self) -> str:
        """ÈÄÇÈÖçËØ∑Ê±Ç"""
        return f"ObjectAdapter: {self.adaptee.specific_request()}"

# ‰ΩøÁî®Á§∫‰æã
def demonstrate_adapter():
    """ÊºîÁ§∫ÈÄÇÈÖçÂô®Ê®°Âºè"""
    print("ÈÄÇÈÖçÂô®Ê®°ÂºèÊºîÁ§∫:")
    
    adaptee = Adaptee()
    
    # Á±ªÈÄÇÈÖçÂô®
    adapter = Adapter(adaptee)
    print(f"Á±ªÈÄÇÈÖçÂô®: {adapter.request()}")
    
    # ÂØπË±°ÈÄÇÈÖçÂô®
    object_adapter = ObjectAdapter(adaptee)
    print(f"ÂØπË±°ÈÄÇÈÖçÂô®: {object_adapter.request()}")
    
    return adapter, object_adapter

# ËøêË°åÊºîÁ§∫
adapter, object_adapter = demonstrate_adapter()
```

### 3. Ê°•Êé•Ê®°Âºè (Bridge)

#### 3.1 ÂΩ¢ÂºèÂåñÂÆö‰πâ

**Êï∞Â≠¶ÂÆö‰πâ**Ôºö
Ê°•Êé•Ê®°ÂºèÂ∞ÜÊäΩË±°‰∏éÂÆûÁé∞ÂàÜÁ¶ªÔºö
$$\text{Bridge}: A \times I \rightarrow O$$

ÂÖ∂‰∏≠ $A$ ÊòØÊäΩË±°Ôºå$I$ ÊòØÂÆûÁé∞Ôºå$O$ ÊòØÁªìÊûúÂØπË±°„ÄÇ

**PythonÂÆûÁé∞**Ôºö

```python
from abc import ABC, abstractmethod
from typing import List

class Implementation(ABC):
    """ÂÆûÁé∞Êé•Âè£"""
    
    @abstractmethod
    def operation_implementation(self) -> str:
        """ÂÆûÁé∞Êìç‰Ωú"""
        pass

class ConcreteImplementationA(Implementation):
    """ÂÖ∑‰ΩìÂÆûÁé∞A"""
    
    def operation_implementation(self) -> str:
        return "ConcreteImplementationA operation"

class ConcreteImplementationB(Implementation):
    """ÂÖ∑‰ΩìÂÆûÁé∞B"""
    
    def operation_implementation(self) -> str:
        return "ConcreteImplementationB operation"

class Abstraction(ABC):
    """ÊäΩË±°Âü∫Á±ª"""
    
    def __init__(self, implementation: Implementation):
        self.implementation = implementation
    
    @abstractmethod
    def operation(self) -> str:
        """ÊäΩË±°Êìç‰Ωú"""
        pass

class RefinedAbstraction(Abstraction):
    """Á≤æÁ°ÆÊäΩË±°"""
    
    def operation(self) -> str:
        return f"RefinedAbstraction: {self.implementation.operation_implementation()}"

class Bridge:
    """Ê°•Êé•Ê®°Âºè"""
    
    def __init__(self, abstraction: Abstraction, implementation: Implementation):
        self.abstraction = abstraction
        self.implementation = implementation
    
    def execute(self) -> str:
        """ÊâßË°åÊ°•Êé•Êìç‰Ωú"""
        return self.abstraction.operation()

# ‰ΩøÁî®Á§∫‰æã
def demonstrate_bridge():
    """ÊºîÁ§∫Ê°•Êé•Ê®°Âºè"""
    print("\nÊ°•Êé•Ê®°ÂºèÊºîÁ§∫:")
    
    # ÂàõÂª∫ÂÆûÁé∞
    impl_a = ConcreteImplementationA()
    impl_b = ConcreteImplementationB()
    
    # ÂàõÂª∫ÊäΩË±°
    abstraction_a = RefinedAbstraction(impl_a)
    abstraction_b = RefinedAbstraction(impl_b)
    
    # ‰ΩøÁî®Ê°•Êé•
    bridge_a = Bridge(abstraction_a, impl_a)
    bridge_b = Bridge(abstraction_b, impl_b)
    
    print(f"Ê°•Êé•A: {bridge_a.execute()}")
    print(f"Ê°•Êé•B: {bridge_b.execute()}")
    
    return bridge_a, bridge_b

# ËøêË°åÊºîÁ§∫
bridge_a, bridge_b = demonstrate_bridge()
```

### 4. ÁªÑÂêàÊ®°Âºè (Composite)

#### 4.1 ÂΩ¢ÂºèÂåñÂÆö‰πâ

**Êï∞Â≠¶ÂÆö‰πâ**Ôºö
ÁªÑÂêàÊ®°ÂºèÊûÑÂª∫Ê†ëÂΩ¢ÁªìÊûÑÔºö
$$\text{Composite}: N \times C \rightarrow T$$

ÂÖ∂‰∏≠ $N$ ÊòØËäÇÁÇπÔºå$C$ ÊòØÂ≠êËäÇÁÇπÈõÜÂêàÔºå$T$ ÊòØÊ†ëÂΩ¢ÁªìÊûÑ„ÄÇ

**PythonÂÆûÁé∞**Ôºö

```python
from abc import ABC, abstractmethod
from typing import List, Optional

class Component(ABC):
    """ÁªÑ‰ª∂ÊäΩË±°Âü∫Á±ª"""
    
    def __init__(self, name: str):
        self.name = name
    
    @abstractmethod
    def operation(self) -> str:
        """Êìç‰Ωú"""
        pass
    
    @abstractmethod
    def add(self, component: 'Component') -> None:
        """Ê∑ªÂä†Â≠êÁªÑ‰ª∂"""
        pass
    
    @abstractmethod
    def remove(self, component: 'Component') -> None:
        """ÁßªÈô§Â≠êÁªÑ‰ª∂"""
        pass
    
    @abstractmethod
    def get_child(self, index: int) -> Optional['Component']:
        """Ëé∑ÂèñÂ≠êÁªÑ‰ª∂"""
        pass

class Leaf(Component):
    """Âè∂Â≠êËäÇÁÇπ"""
    
    def operation(self) -> str:
        return f"Leaf {self.name} operation"
    
    def add(self, component: Component) -> None:
        raise NotImplementedError("Leaf cannot add children")
    
    def remove(self, component: Component) -> None:
        raise NotImplementedError("Leaf cannot remove children")
    
    def get_child(self, index: int) -> Optional[Component]:
        return None

class Composite(Component):
    """ÁªÑÂêàËäÇÁÇπ"""
    
    def __init__(self, name: str):
        super().__init__(name)
        self.children: List[Component] = []
    
    def operation(self) -> str:
        results = [f"Composite {self.name} operation"]
        for child in self.children:
            results.append(f"  {child.operation()}")
        return "\n".join(results)
    
    def add(self, component: Component) -> None:
        self.children.append(component)
    
    def remove(self, component: Component) -> None:
        if component in self.children:
            self.children.remove(component)
    
    def get_child(self, index: int) -> Optional[Component]:
        if 0 <= index < len(self.children):
            return self.children[index]
        return None

# ‰ΩøÁî®Á§∫‰æã
def demonstrate_composite():
    """ÊºîÁ§∫ÁªÑÂêàÊ®°Âºè"""
    print("\nÁªÑÂêàÊ®°ÂºèÊºîÁ§∫:")
    
    # ÂàõÂª∫Âè∂Â≠êËäÇÁÇπ
    leaf1 = Leaf("Leaf1")
    leaf2 = Leaf("Leaf2")
    leaf3 = Leaf("Leaf3")
    
    # ÂàõÂª∫ÁªÑÂêàËäÇÁÇπ
    composite1 = Composite("Composite1")
    composite2 = Composite("Composite2")
    root = Composite("Root")
    
    # ÊûÑÂª∫Ê†ëÂΩ¢ÁªìÊûÑ
    composite1.add(leaf1)
    composite1.add(leaf2)
    composite2.add(leaf3)
    root.add(composite1)
    root.add(composite2)
    
    # ÊâßË°åÊìç‰Ωú
    print("ÁªÑÂêàÁªìÊûÑÊìç‰Ωú:")
    print(root.operation())
    
    return root

# ËøêË°åÊºîÁ§∫
composite_root = demonstrate_composite()
```

### 5. Ë£ÖÈ•∞Âô®Ê®°Âºè (Decorator)

#### 5.1 ÂΩ¢ÂºèÂåñÂÆö‰πâ

**Êï∞Â≠¶ÂÆö‰πâ**Ôºö
Ë£ÖÈ•∞Âô®Ê®°ÂºèÂä®ÊÄÅÊ∑ªÂä†ËÅåË¥£Ôºö
$$\text{Decorator}: C \times D \rightarrow C'$$

ÂÖ∂‰∏≠ $C$ ÊòØÁªÑ‰ª∂Ôºå$D$ ÊòØË£ÖÈ•∞Âô®Ôºå$C'$ ÊòØË£ÖÈ•∞ÂêéÁöÑÁªÑ‰ª∂„ÄÇ

**PythonÂÆûÁé∞**Ôºö

```python
from abc import ABC, abstractmethod
from typing import Any

class Component(ABC):
    """ÁªÑ‰ª∂Êé•Âè£"""
    
    @abstractmethod
    def operation(self) -> str:
        """Êìç‰Ωú"""
        pass

class ConcreteComponent(Component):
    """ÂÖ∑‰ΩìÁªÑ‰ª∂"""
    
    def operation(self) -> str:
        return "ConcreteComponent operation"

class Decorator(Component):
    """Ë£ÖÈ•∞Âô®Âü∫Á±ª"""
    
    def __init__(self, component: Component):
        self.component = component
    
    def operation(self) -> str:
        return self.component.operation()

class ConcreteDecoratorA(Decorator):
    """ÂÖ∑‰ΩìË£ÖÈ•∞Âô®A"""
    
    def operation(self) -> str:
        return f"ConcreteDecoratorA({super().operation()})"

class ConcreteDecoratorB(Decorator):
    """ÂÖ∑‰ΩìË£ÖÈ•∞Âô®B"""
    
    def operation(self) -> str:
        return f"ConcreteDecoratorB({super().operation()})"

# ‰ΩøÁî®Á§∫‰æã
def demonstrate_decorator():
    """ÊºîÁ§∫Ë£ÖÈ•∞Âô®Ê®°Âºè"""
    print("\nË£ÖÈ•∞Âô®Ê®°ÂºèÊºîÁ§∫:")
    
    # ÂàõÂª∫ÁªÑ‰ª∂
    component = ConcreteComponent()
    print(f"ÂéüÂßãÁªÑ‰ª∂: {component.operation()}")
    
    # Ê∑ªÂä†Ë£ÖÈ•∞Âô®A
    decorated_a = ConcreteDecoratorA(component)
    print(f"Ë£ÖÈ•∞Âô®A: {decorated_a.operation()}")
    
    # Ê∑ªÂä†Ë£ÖÈ•∞Âô®B
    decorated_b = ConcreteDecoratorB(decorated_a)
    print(f"Ë£ÖÈ•∞Âô®B: {decorated_b.operation()}")
    
    # Â§öÂ±ÇË£ÖÈ•∞
    multi_decorated = ConcreteDecoratorA(ConcreteDecoratorB(component))
    print(f"Â§öÂ±ÇË£ÖÈ•∞: {multi_decorated.operation()}")
    
    return component, decorated_a, decorated_b

# ËøêË°åÊºîÁ§∫
component, decorated_a, decorated_b = demonstrate_decorator()
```

### 6. Â§ñËßÇÊ®°Âºè (Facade)

#### 6.1 ÂΩ¢ÂºèÂåñÂÆö‰πâ

**Êï∞Â≠¶ÂÆö‰πâ**Ôºö
Â§ñËßÇÊ®°Âºè‰∏∫Â≠êÁ≥ªÁªüÊèê‰æõÁªü‰∏ÄÊé•Âè£Ôºö
$$\text{Facade}: S_1 \times S_2 \times \cdots \times S_n \rightarrow I$$

ÂÖ∂‰∏≠ $S_i$ ÊòØÂ≠êÁ≥ªÁªüÔºå$I$ ÊòØÁªü‰∏ÄÊé•Âè£„ÄÇ

**PythonÂÆûÁé∞**Ôºö

```python
from abc import ABC, abstractmethod
from typing import List

class SubsystemA:
    """Â≠êÁ≥ªÁªüA"""
    
    def operation_a1(self) -> str:
        return "SubsystemA operation1"
    
    def operation_a2(self) -> str:
        return "SubsystemA operation2"

class SubsystemB:
    """Â≠êÁ≥ªÁªüB"""
    
    def operation_b1(self) -> str:
        return "SubsystemB operation1"
    
    def operation_b2(self) -> str:
        return "SubsystemB operation2"

class SubsystemC:
    """Â≠êÁ≥ªÁªüC"""
    
    def operation_c1(self) -> str:
        return "SubsystemC operation1"
    
    def operation_c2(self) -> str:
        return "SubsystemC operation2"

class Facade:
    """Â§ñËßÇÁ±ª"""
    
    def __init__(self, subsystems: List[Any]):
        self.subsystem_a = subsystems[0] if len(subsystems) > 0 else SubsystemA()
        self.subsystem_b = subsystems[1] if len(subsystems) > 1 else SubsystemB()
        self.subsystem_c = subsystems[2] if len(subsystems) > 2 else SubsystemC()
    
    def operation1(self) -> str:
        """Êìç‰Ωú1"""
        results = []
        results.append(self.subsystem_a.operation_a1())
        results.append(self.subsystem_b.operation_b1())
        return " + ".join(results)
    
    def operation2(self) -> str:
        """Êìç‰Ωú2"""
        results = []
        results.append(self.subsystem_b.operation_b2())
        results.append(self.subsystem_c.operation_c1())
        return " + ".join(results)
    
    def operation3(self) -> str:
        """Êìç‰Ωú3"""
        results = []
        results.append(self.subsystem_a.operation_a2())
        results.append(self.subsystem_c.operation_c2())
        return " + ".join(results)

# ‰ΩøÁî®Á§∫‰æã
def demonstrate_facade():
    """ÊºîÁ§∫Â§ñËßÇÊ®°Âºè"""
    print("\nÂ§ñËßÇÊ®°ÂºèÊºîÁ§∫:")
    
    # ÂàõÂª∫Â≠êÁ≥ªÁªü
    subsystem_a = SubsystemA()
    subsystem_b = SubsystemB()
    subsystem_c = SubsystemC()
    
    # ÂàõÂª∫Â§ñËßÇ
    facade = Facade([subsystem_a, subsystem_b, subsystem_c])
    
    # ‰ΩøÁî®Â§ñËßÇ
    print(f"Êìç‰Ωú1: {facade.operation1()}")
    print(f"Êìç‰Ωú2: {facade.operation2()}")
    print(f"Êìç‰Ωú3: {facade.operation3()}")
    
    return facade

# ËøêË°åÊºîÁ§∫
facade = demonstrate_facade()
```

### 7. ‰∫´ÂÖÉÊ®°Âºè (Flyweight)

#### 7.1 ÂΩ¢ÂºèÂåñÂÆö‰πâ

**Êï∞Â≠¶ÂÆö‰πâ**Ôºö
‰∫´ÂÖÉÊ®°ÂºèÂÖ±‰∫´ÂØπË±°‰ª•ÂáèÂ∞ëÂÜÖÂ≠ò‰ΩøÁî®Ôºö
$$\text{Flyweight}: S \times I \rightarrow O$$

ÂÖ∂‰∏≠ $S$ ÊòØÂÖ±‰∫´Áä∂ÊÄÅÔºå$I$ ÊòØÂÜÖÈÉ®Áä∂ÊÄÅÔºå$O$ ÊòØ‰∫´ÂÖÉÂØπË±°„ÄÇ

**PythonÂÆûÁé∞**Ôºö

```python
from typing import Dict, Any
from dataclasses import dataclass

@dataclass
class Flyweight:
    """‰∫´ÂÖÉÁ±ª"""
    shared_state: str
    
    def operation(self, unique_state: str) -> str:
        """Êìç‰Ωú"""
        return f"Flyweight: shared={self.shared_state}, unique={unique_state}"

class FlyweightFactory:
    """‰∫´ÂÖÉÂ∑•ÂéÇ"""
    
    def __init__(self):
        self.flyweights: Dict[str, Flyweight] = {}
    
    def get_flyweight(self, shared_state: str) -> Flyweight:
        """Ëé∑Âèñ‰∫´ÂÖÉ"""
        if shared_state not in self.flyweights:
            self.flyweights[shared_state] = Flyweight(shared_state)
        return self.flyweights[shared_state]
    
    def list_flyweights(self) -> List[str]:
        """ÂàóÂá∫ÊâÄÊúâ‰∫´ÂÖÉ"""
        return list(self.flyweights.keys())

class Context:
    """‰∏ä‰∏ãÊñá"""
    
    def __init__(self, flyweight: Flyweight, unique_state: str):
        self.flyweight = flyweight
        self.unique_state = unique_state
    
    def operation(self) -> str:
        """Êìç‰Ωú"""
        return self.flyweight.operation(self.unique_state)

# ‰ΩøÁî®Á§∫‰æã
def demonstrate_flyweight():
    """ÊºîÁ§∫‰∫´ÂÖÉÊ®°Âºè"""
    print("\n‰∫´ÂÖÉÊ®°ÂºèÊºîÁ§∫:")
    
    # ÂàõÂª∫‰∫´ÂÖÉÂ∑•ÂéÇ
    factory = FlyweightFactory()
    
    # ÂàõÂª∫‰∏ä‰∏ãÊñá
    contexts = []
    
    # ‰ΩøÁî®Áõ∏ÂêåÂÖ±‰∫´Áä∂ÊÄÅÁöÑÂ§ö‰∏™‰∏ä‰∏ãÊñá
    shared_states = ["A", "B", "A", "B", "A"]
    unique_states = ["1", "2", "3", "4", "5"]
    
    for shared, unique in zip(shared_states, unique_states):
        flyweight = factory.get_flyweight(shared)
        context = Context(flyweight, unique)
        contexts.append(context)
    
    # ÊâßË°åÊìç‰Ωú
    for context in contexts:
        print(f"‰∏ä‰∏ãÊñáÊìç‰Ωú: {context.operation()}")
    
    # ÊòæÁ§∫‰∫´ÂÖÉÊï∞Èáè
    print(f"ÂàõÂª∫ÁöÑ‰∫´ÂÖÉÊï∞Èáè: {len(factory.list_flyweights())}")
    print(f"‰∫´ÂÖÉÂàóË°®: {factory.list_flyweights()}")
    
    return factory, contexts

# ËøêË°åÊºîÁ§∫
flyweight_factory, contexts = demonstrate_flyweight()
```

### 8. ‰ª£ÁêÜÊ®°Âºè (Proxy)

#### 8.1 ÂΩ¢ÂºèÂåñÂÆö‰πâ

**Êï∞Â≠¶ÂÆö‰πâ**Ôºö
‰ª£ÁêÜÊ®°ÂºèÊéßÂà∂ÂØπÂØπË±°ÁöÑËÆøÈóÆÔºö
$$\text{Proxy}: R \times C \rightarrow A$$

ÂÖ∂‰∏≠ $R$ ÊòØÁúüÂÆûÂØπË±°Ôºå$C$ ÊòØÊéßÂà∂Êù°‰ª∂Ôºå$A$ ÊòØËÆøÈóÆÁªìÊûú„ÄÇ

**PythonÂÆûÁé∞**Ôºö

```python
from abc import ABC, abstractmethod
from typing import Optional
import time

class Subject(ABC):
    """‰∏ªÈ¢òÊé•Âè£"""
    
    @abstractmethod
    def request(self) -> str:
        """ËØ∑Ê±ÇÊñπÊ≥ï"""
        pass

class RealSubject(Subject):
    """ÁúüÂÆû‰∏ªÈ¢ò"""
    
    def request(self) -> str:
        return "RealSubject request"

class Proxy(Subject):
    """‰ª£ÁêÜÁ±ª"""
    
    def __init__(self, real_subject: RealSubject):
        self.real_subject = real_subject
        self.access_count = 0
        self.last_access_time = None
    
    def request(self) -> str:
        """‰ª£ÁêÜËØ∑Ê±Ç"""
        # ËÆøÈóÆÊéßÂà∂
        if not self._check_access():
            return "Access denied"
        
        # Âª∂ËøüÂä†ËΩΩ
        if self.real_subject is None:
            self.real_subject = RealSubject()
        
        # ËÆ∞ÂΩïËÆøÈóÆ
        self.access_count += 1
        self.last_access_time = time.time()
        
        # ËΩ¨ÂèëËØ∑Ê±Ç
        return f"Proxy: {self.real_subject.request()}"
    
    def _check_access(self) -> bool:
        """Ê£ÄÊü•ËÆøÈóÆÊùÉÈôê"""
        # ÁÆÄÂåñÁöÑËÆøÈóÆÊéßÂà∂ÈÄªËæë
        return self.access_count < 5  # ÊúÄÂ§öÂÖÅËÆ∏5Ê¨°ËÆøÈóÆ
    
    def get_access_info(self) -> Dict[str, Any]:
        """Ëé∑ÂèñËÆøÈóÆ‰ø°ÊÅØ"""
        return {
            "access_count": self.access_count,
            "last_access_time": self.last_access_time,
            "has_access": self._check_access()
        }

class VirtualProxy(Subject):
    """ËôöÊãü‰ª£ÁêÜ"""
    
    def __init__(self):
        self.real_subject: Optional[RealSubject] = None
    
    def request(self) -> str:
        """ËôöÊãü‰ª£ÁêÜËØ∑Ê±Ç"""
        if self.real_subject is None:
            print("Creating RealSubject...")
            self.real_subject = RealSubject()
        
        return f"VirtualProxy: {self.real_subject.request()}"

class ProtectionProxy(Subject):
    """‰øùÊä§‰ª£ÁêÜ"""
    
    def __init__(self, real_subject: RealSubject, password: str):
        self.real_subject = real_subject
        self.password = password
        self.authenticated = False
    
    def authenticate(self, password: str) -> bool:
        """ËÆ§ËØÅ"""
        self.authenticated = (password == self.password)
        return self.authenticated
    
    def request(self) -> str:
        """‰øùÊä§‰ª£ÁêÜËØ∑Ê±Ç"""
        if not self.authenticated:
            return "Authentication required"
        
        return f"ProtectionProxy: {self.real_subject.request()}"

# ‰ΩøÁî®Á§∫‰æã
def demonstrate_proxy():
    """ÊºîÁ§∫‰ª£ÁêÜÊ®°Âºè"""
    print("\n‰ª£ÁêÜÊ®°ÂºèÊºîÁ§∫:")
    
    # ÊôÆÈÄö‰ª£ÁêÜ
    real_subject = RealSubject()
    proxy = Proxy(real_subject)
    
    print("ÊôÆÈÄö‰ª£ÁêÜ:")
    for i in range(7):
        result = proxy.request()
        print(f"  ËØ∑Ê±Ç {i+1}: {result}")
        if i == 4:
            print(f"  ËÆøÈóÆ‰ø°ÊÅØ: {proxy.get_access_info()}")
    
    # ËôöÊãü‰ª£ÁêÜ
    virtual_proxy = VirtualProxy()
    print(f"\nËôöÊãü‰ª£ÁêÜ: {virtual_proxy.request()}")
    print(f"ËôöÊãü‰ª£ÁêÜ: {virtual_proxy.request()}")
    
    # ‰øùÊä§‰ª£ÁêÜ
    protection_proxy = ProtectionProxy(real_subject, "secret123")
    print(f"\n‰øùÊä§‰ª£ÁêÜ (Êú™ËÆ§ËØÅ): {protection_proxy.request()}")
    
    protection_proxy.authenticate("wrong_password")
    print(f"‰øùÊä§‰ª£ÁêÜ (ÈîôËØØÂØÜÁ†Å): {protection_proxy.request()}")
    
    protection_proxy.authenticate("secret123")
    print(f"‰øùÊä§‰ª£ÁêÜ (Ê≠£Á°ÆÂØÜÁ†Å): {protection_proxy.request()}")
    
    return proxy, virtual_proxy, protection_proxy

# ËøêË°åÊºîÁ§∫
proxy, virtual_proxy, protection_proxy = demonstrate_proxy()
```

## üìä Ê®°ÂºèÊØîËæÉÂàÜÊûê

```python
class StructuralPatternAnalyzer:
    """ÁªìÊûÑÂûãÊ®°ÂºèÂàÜÊûêÂô®"""
    
    def __init__(self):
        self.framework = StructuralPatternFramework()
    
    def compare_patterns(self) -> Dict[str, Dict[str, Any]]:
        """ÊØîËæÉÊâÄÊúâÁªìÊûÑÂûãÊ®°Âºè"""
        patterns = [
            StructuralPattern.ADAPTER,
            StructuralPattern.BRIDGE,
            StructuralPattern.COMPOSITE,
            StructuralPattern.DECORATOR,
            StructuralPattern.FACADE,
            StructuralPattern.FLYWEIGHT,
            StructuralPattern.PROXY
        ]
        
        comparison = {}
        for pattern in patterns:
            comparison[pattern.value] = self.framework.analyze_pattern(pattern)
        
        return comparison
    
    def generate_comparison_report(self) -> str:
        """ÁîüÊàêÊØîËæÉÊä•Âëä"""
        comparison = self.compare_patterns()
        
        report = "ÁªìÊûÑÂûãÊ®°ÂºèÊØîËæÉÊä•Âëä:\n"
        report += "=" * 60 + "\n"
        
        for pattern_name, analysis in comparison.items():
            report += f"\n{pattern_name.upper()}:\n"
            report += f"  Â§çÊùÇÂ∫¶: {analysis['complexity']}\n"
            report += f"  ÁÅµÊ¥ªÊÄß: {analysis['flexibility']}\n"
            report += f"  ÊÄßËÉΩ: {analysis['performance']}\n"
            report += f"  ‰ΩøÁî®Âú∫ÊôØ: {', '.join(analysis['use_cases'])}\n"
        
        return report
    
    def recommend_pattern(self, requirements: Dict[str, Any]) -> str:
        """Ê†πÊçÆÈúÄÊ±ÇÊé®ËçêÊ®°Âºè"""
        recommendations = {
            "interface_adaptation": StructuralPattern.ADAPTER.value,
            "abstraction_separation": StructuralPattern.BRIDGE.value,
            "tree_structure": StructuralPattern.COMPOSITE.value,
            "dynamic_behavior": StructuralPattern.DECORATOR.value,
            "subsystem_simplification": StructuralPattern.FACADE.value,
            "memory_optimization": StructuralPattern.FLYWEIGHT.value,
            "access_control": StructuralPattern.PROXY.value
        }
        
        for requirement, pattern in recommendations.items():
            if requirement in requirements and requirements[requirement]:
                return pattern
        
        return StructuralPattern.ADAPTER.value  # ÈªòËÆ§Êé®Ëçê

# ‰ΩøÁî®Á§∫‰æã
def demonstrate_pattern_analysis():
    """ÊºîÁ§∫Ê®°ÂºèÂàÜÊûê"""
    analyzer = StructuralPatternAnalyzer()
    
    # ÁîüÊàêÊØîËæÉÊä•Âëä
    report = analyzer.generate_comparison_report()
    print(report)
    
    # Êé®ËçêÊ®°Âºè
    requirements = {
        "interface_adaptation": True,
        "abstraction_separation": False,
        "tree_structure": False,
        "dynamic_behavior": False,
        "subsystem_simplification": False,
        "memory_optimization": False,
        "access_control": False
    }
    
    recommended = analyzer.recommend_pattern(requirements)
    print(f"\nÊ†πÊçÆÈúÄÊ±ÇÊé®ËçêÊ®°Âºè: {recommended}")
    
    return analyzer

# ËøêË°åÂàÜÊûê
structural_analyzer = demonstrate_pattern_analysis()
```

## üìù ÊÄªÁªì

ÁªìÊûÑÂûãÊ®°ÂºèÊèê‰æõ‰∫ÜÁÅµÊ¥ªÁöÑÂØπË±°ÁªÑÂêàÊú∫Âà∂Ôºö

1. **ÈÄÇÈÖçÂô®Ê®°Âºè**: Â∞Ü‰∏Ä‰∏™Êé•Âè£ËΩ¨Êç¢‰∏∫Âè¶‰∏Ä‰∏™Êé•Âè£
2. **Ê°•Êé•Ê®°Âºè**: Â∞ÜÊäΩË±°‰∏éÂÆûÁé∞ÂàÜÁ¶ª
3. **ÁªÑÂêàÊ®°Âºè**: ÊûÑÂª∫Ê†ëÂΩ¢ÁªìÊûÑ
4. **Ë£ÖÈ•∞Âô®Ê®°Âºè**: Âä®ÊÄÅÊ∑ªÂä†ËÅåË¥£
5. **Â§ñËßÇÊ®°Âºè**: ‰∏∫Â≠êÁ≥ªÁªüÊèê‰æõÁªü‰∏ÄÊé•Âè£
6. **‰∫´ÂÖÉÊ®°Âºè**: ÂÖ±‰∫´ÂØπË±°‰ª•ÂáèÂ∞ëÂÜÖÂ≠ò‰ΩøÁî®
7. **‰ª£ÁêÜÊ®°Âºè**: ÊéßÂà∂ÂØπÂØπË±°ÁöÑËÆøÈóÆ

ÊØèÁßçÊ®°ÂºèÈÉΩÊúâÂÖ∂ÁâπÂÆöÁöÑÂ∫îÁî®Âú∫ÊôØÂíå‰ºòÂäøÔºåÈÄâÊã©ÂêàÈÄÇÁöÑÊ®°ÂºèÈúÄË¶ÅËÄÉËôëÁ≥ªÁªüÁöÑÂ§çÊùÇÂ∫¶„ÄÅÊÄßËÉΩË¶ÅÊ±ÇÂíåÁª¥Êä§ÊÄßÁ≠âÂõ†Á¥†„ÄÇ

## üîó Áõ∏ÂÖ≥ÈìæÊé•

- [ÂàõÂª∫ÂûãÊ®°Âºè](03.01.01-ÂàõÂª∫ÂûãÊ®°Âºè.md)
- [Ë°å‰∏∫ÂûãÊ®°Âºè](03.01.03-Ë°å‰∏∫ÂûãÊ®°Âºè.md)
- [ËÆæËÆ°ÂéüÂàô](00-ÁêÜÂøµÂü∫Á°Ä/00.01-ÁºñÁ®ãÂì≤Â≠¶/00.01.02-ËÆæËÆ°ÂéüÂàô.md)
- [ËΩØ‰ª∂Êû∂ÊûÑ](03-ÂÖ∑‰ΩìÁßëÂ≠¶/03.02-ËΩØ‰ª∂Êû∂ÊûÑ/README.md) 