# 02-09 网络理论

## 📋 概述

网络理论是计算机科学和数学的重要分支，研究网络的结构、性质和行为。本文档从形式化角度阐述网络理论的核心概念，提供严格的数学定义和证明，并通过Python代码实现相关网络算法。

## 🎯 核心概念

### 1. 网络基础

#### 1.1 形式化定义

**定义 1.1** (网络)
网络是一个三元组：
$$G = (V, E, w)$$
其中：

- $V = \{v_1, v_2, \ldots, v_n\}$ 是节点集合
- $E \subseteq V \times V$ 是边集合
- $w: E \rightarrow \mathbb{R}^+$ 是权重函数

**定义 1.2** (有向网络)
有向网络是一个三元组：
$$G = (V, E, w)$$
其中 $E \subseteq V \times V$ 是有向边集合。

**定义 1.3** (无向网络)
无向网络是一个三元组：
$$G = (V, E, w)$$
其中 $E \subseteq \{\{u, v\} | u, v \in V, u \neq v\}$ 是无向边集合。

#### 1.2 网络基本性质

**定义 1.4** (度)
节点 $v$ 的度是：
$$\deg(v) = |\{e \in E | v \in e\}|$$

**定义 1.5** (路径)
从节点 $u$ 到节点 $v$ 的路径是一个节点序列：
$$P = (v_0, v_1, \ldots, v_k)$$
其中 $v_0 = u$，$v_k = v$，且 $(v_i, v_{i+1}) \in E$ 对所有 $i$ 成立。

**定义 1.6** (连通性)
网络 $G$ 是连通的，当且仅当：
$$\forall u, v \in V: \exists \text{path}(u, v)$$

**定理 1.1** (连通性判定)
网络 $G$ 是连通的，当且仅当：
$$|E| \geq |V| - 1$$

**证明**：
1. 必要性：连通网络至少需要 $|V| - 1$ 条边形成生成树
2. 充分性：如果 $|E| \geq |V| - 1$，则存在生成树，网络连通

### 2. 网络中心性

#### 2.1 度中心性

**定义 2.1** (度中心性)
节点 $v$ 的度中心性是：
$$C_D(v) = \frac{\deg(v)}{|V| - 1}$$

**定义 2.2** (接近中心性)
节点 $v$ 的接近中心性是：
$$C_C(v) = \frac{|V| - 1}{\sum_{u \in V} d(v, u)}$$
其中 $d(v, u)$ 是 $v$ 到 $u$ 的最短距离。

**定义 2.3** (介数中心性)
节点 $v$ 的介数中心性是：
$$C_B(v) = \sum_{s \neq v \neq t} \frac{\sigma_{st}(v)}{\sigma_{st}}$$
其中 $\sigma_{st}$ 是从 $s$ 到 $t$ 的最短路径数，$\sigma_{st}(v)$ 是经过 $v$ 的最短路径数。

#### 2.2 中心性定理

**定理 2.1** (度中心性性质)
对于任意网络 $G$：
$$0 \leq C_D(v) \leq 1$$

**证明**：
1. 由于 $\deg(v) \geq 0$，所以 $C_D(v) \geq 0$
2. 由于 $\deg(v) \leq |V| - 1$，所以 $C_D(v) \leq 1$

**定理 2.2** (接近中心性性质)
对于连通网络 $G$：
$$0 < C_C(v) \leq 1$$

**证明**：
1. 由于网络连通，所有距离有限，所以 $C_C(v) > 0$
2. 由于距离非负，所以 $C_C(v) \leq 1$

### 3. 网络聚类

#### 3.1 聚类系数

**定义 3.1** (局部聚类系数)
节点 $v$ 的局部聚类系数是：
$$C(v) = \frac{2 \times |E_v|}{k_v \times (k_v - 1)}$$
其中 $E_v$ 是 $v$ 的邻居之间的边集合，$k_v = \deg(v)$。

**定义 3.2** (全局聚类系数)
网络的全局聚类系数是：
$$C = \frac{1}{|V|} \sum_{v \in V} C(v)$$

**定义 3.3** (平均聚类系数)
网络的平均聚类系数是：
$$\langle C \rangle = \frac{\sum_{v \in V} C(v)}{|\{v \in V | \deg(v) > 1\}|}$$

#### 3.2 聚类性质

**定理 3.1** (聚类系数范围)
对于任意网络：
$$0 \leq C(v) \leq 1$$

**证明**：
1. 由于边数非负，所以 $C(v) \geq 0$
2. 由于 $|E_v| \leq \frac{k_v \times (k_v - 1)}{2}$，所以 $C(v) \leq 1$

**定理 3.2** (随机网络聚类系数)
对于 Erdős-Rényi 随机网络 $G(n, p)$：
$$\langle C \rangle = p$$

**证明**：
1. 在随机网络中，任意两个节点间连接的概率为 $p$
2. 对于节点 $v$ 的任意两个邻居，它们连接的概率也是 $p$
3. 因此 $C(v) = p$ 对所有节点成立
4. 所以 $\langle C \rangle = p$

### 4. 网络距离

#### 4.1 最短路径

**定义 4.1** (最短路径)
从节点 $u$ 到节点 $v$ 的最短路径是：
$$d(u, v) = \min\{w(P) | P \text{ 是从 } u \text{ 到 } v \text{ 的路径}\}$$
其中 $w(P)$ 是路径 $P$ 的总权重。

**定义 4.2** (网络直径)
网络的直径是：
$$D = \max_{u, v \in V} d(u, v)$$

**定义 4.3** (平均路径长度)
网络的平均路径长度是：
$$L = \frac{1}{|V| \times (|V| - 1)} \sum_{u \neq v} d(u, v)$$

#### 4.2 距离算法

**算法 4.1** (Dijkstra算法)
```
1. 初始化距离数组 d[v] = ∞，d[s] = 0
2. 初始化访问数组 visited[v] = false
3. 重复以下步骤直到所有节点被访问：
   a. 选择未访问节点中距离最小的节点 u
   b. 标记 u 为已访问
   c. 更新 u 的邻居距离：d[v] = min(d[v], d[u] + w(u,v))
```

**定理 4.1** (Dijkstra算法正确性)
Dijkstra算法正确计算从源点到所有其他节点的最短路径。

**证明**：
1. 算法维护距离数组 $d[v]$ 表示从源点到 $v$ 的当前最短距离
2. 每次选择未访问节点中距离最小的节点 $u$
3. 由于所有边权重非负，$d[u]$ 就是最终的最短距离
4. 通过松弛操作更新其他节点的距离
5. 因此算法正确

### 5. 网络流

#### 5.1 最大流

**定义 5.1** (网络流)
网络流是一个函数：
$$f: E \rightarrow \mathbb{R}^+$$
满足：
- 容量约束：$0 \leq f(e) \leq c(e)$
- 流量守恒：$\sum_{e \in \delta^+(v)} f(e) = \sum_{e \in \delta^-(v)} f(e)$

**定义 5.2** (最大流)
从源点 $s$ 到汇点 $t$ 的最大流是：
$$|f| = \sum_{e \in \delta^+(s)} f(e) - \sum_{e \in \delta^-(s)} f(e)$$

**定义 5.3** (最小割)
网络的最小割是：
$$\min_{S \subset V, s \in S, t \notin S} c(S, \bar{S})$$
其中 $c(S, \bar{S}) = \sum_{e \in E, e \cap S \neq \emptyset, e \cap \bar{S} \neq \emptyset} c(e)$

#### 5.2 最大流最小割定理

**定理 5.1** (最大流最小割定理)
网络的最大流等于最小割：
$$\max |f| = \min c(S, \bar{S})$$

**证明**：
1. 对于任意流 $f$ 和割 $(S, \bar{S})$：
   $$|f| \leq c(S, \bar{S})$$
2. 因此 $\max |f| \leq \min c(S, \bar{S})$
3. 通过构造增广路径，可以找到流 $f$ 和割 $(S, \bar{S})$ 使得：
   $$|f| = c(S, \bar{S})$$
4. 因此 $\max |f| = \min c(S, \bar{S})$

### 6. 网络匹配

#### 6.1 二分图匹配

**定义 6.1** (二分图)
二分图是一个图 $G = (V, E)$，其中 $V = X \cup Y$，$X \cap Y = \emptyset$，且 $E \subseteq X \times Y$。

**定义 6.2** (匹配)
匹配是边集合 $M \subseteq E$，其中任意两条边不共享端点。

**定义 6.3** (最大匹配)
最大匹配是包含最多边的匹配。

#### 6.2 匹配算法

**算法 6.1** (匈牙利算法)
```
1. 初始化匹配 M = ∅
2. 对每个未匹配的节点 x ∈ X：
   a. 使用DFS寻找增广路径
   b. 如果找到增广路径，更新匹配
3. 返回最大匹配
```

**定理 6.1** (König定理)
在二分图中，最大匹配的大小等于最小顶点覆盖的大小。

**证明**：
1. 对于任意匹配 $M$ 和顶点覆盖 $C$：
   $$|M| \leq |C|$$
2. 通过构造，可以找到匹配 $M$ 和顶点覆盖 $C$ 使得：
   $$|M| = |C|$$
3. 因此最大匹配等于最小顶点覆盖
